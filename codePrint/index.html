<!DOCTYPE html>
<html>
<head>

	<link href="prism.css" rel="stylesheet" />
	 <script
  src="https://code.jquery.com/jquery-3.1.1.js"
  integrity="sha256-16cdPddA6VdVInumRGo6IbivbERE8p7CQR3HzTBuELA="
  crossorigin="anonymous"></script>
	<script src="prism.js"></script>
	<script type="text/javascript">

	function doit(){
		var code = "var data = 1;\nconsole.log(foo);";


		var html = Prism.highlight(code, Prism.languages.javascript);
		console.log(html);
	}
	
</script>
</head>
<body>
	<textarea id="theCode" style="width: 500px; height: 40px"></textarea><button id="doit">Do it</button>
	<pre class="line-numbers language-javascript">
<code id="prettyArea" class="language-javascript"></code>
</pre>
	<script src="prism.js"></script>
	<script type="text/javascript">

		document.getElementById("theCode").addEventListener("input", convert);


		$("#doit").click(function(){
			convert();
		});

		function convert(){
			var code = $("#theCode").val();
			var html = Prism.highlight(code, Prism.languages.javascript);
			$("#prettyArea").html(html);
			Prism.highlightAll();
		}

		
	</script>
</body>
</html>